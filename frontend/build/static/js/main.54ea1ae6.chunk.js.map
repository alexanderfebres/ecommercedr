{"version":3,"sources":["hoc/hoc.js","store/actions/auth.js","store/actions/actionTypes.js","containers/constants.js","Utils.js","store/actions/Cart.js","containers/Login.js","containers/Signup.js","containers/ProductList.js","containers/ProductDetail.js","containers/OrderSummary.js","containers/Checkout.js","containers/PaymentHistory.js","containers/AddressForm.js","containers/Profile.js","store/actions/Address.js","routes.js","containers/Layout.js","App.js","registerServiceWorker.js","store/utility.js","store/reducers/auth.js","store/reducers/cart.js","store/reducers/address.js","index.js"],"names":["Hoc","props","children","authSuccess","token","type","authFail","error","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","dispatch","setTimeout","endpoint","productListURL","addToCartURL","orderSummaryURL","checkoutURL","addCouponURL","paymentListURL","userIDURL","countryListURL","orderItemUpdateQuantityURL","addressCreateURL","productDetailURL","id","addressUpdateURL","addressDeleteURL","orderItemDeleteURL","addressListURL","addressType","authAxios","axios","create","baseURL","headers","Authorization","getItem","fetchCart","get","then","res","data","catch","err","LoginForm","state","username","password","handleChange","e","setState","target","name","value","handleSubmit","login","this","loading","to","Grid","textAlign","style","height","verticalAlign","Column","maxWidth","Header","as","color","message","Fragment","Form","size","onSubmit","Segment","stacked","Input","onChange","fluid","icon","iconPosition","placeholder","Button","disabled","Message","React","Component","connect","auth","post","key","expirationDate","Date","getTime","setItem","authLogin","RegistrationForm","email","password1","password2","signup","authSignup","ProductList","handleAddToCart","slug","Container","header","content","JSON","stringify","Dimmer","active","inverted","Loader","Image","src","Item","Group","divided","map","item","console","log","image","Content","onClick","history","push","title","Meta","className","category","Description","description","ProductDetail","formVisible","formData","handleToggleForm","handleFetchItem","params","match","productID","handleFormatData","Object","keys","variations","updatedFormData","columns","Row","Card","meta","extra","floated","labelPosition","Icon","Divider","v","toLowerCase","Field","Select","options","item_variations","text","selection","iv","attachment","withRouter","OrderSummary","handleFetchOrder","response","status","renderVariations","orderItem","forEach","variation","itemVariations","handleRemoveQuantityFromCart","handleRemoveItem","itemID","delete","isAuthenticated","Table","celled","HeaderCell","Body","order_items","i","Cell","price","float","cursor","quantity","discount_price","Label","ribbon","final_price","colSpan","total","Footer","stripePromise","loadStripe","OrderPreview","relaxed","order_item","Extra","coupon","marginLeft","code","amount","CouponForm","handleAddCoupon","CheckoutForm","success","billing","shipping","handleFetchBillingAddress","handleFetchShippingAddress","event","a","preventDefault","stripe","elements","cardElement","getElement","CardElement","createPaymentMethod","card","paymentMethod","stripeToken","positive","length","secondary","marginTop","PaymentHistory","payments","handleFetchPayments","p","timestamp","toUTCString","AddressForm","address_type","apartment_address","country","default","street_address","user","zip","saving","handleToggleDefault","updatedFormdata","handleSelectChange","formType","handleUpdateAddress","handleCreateAddress","userID","activeItem","callback","put","address","countries","required","clearable","search","Checkbox","label","checked","globalActiveItem","Profile","addresses","selectedAddress","handleItemClick","fetchAddresses","handleGetActiveItem","handleFormatCountries","k","handleDeleteAddress","addressID","handleCallback","handleSelectAddress","handleFetchUserID","handleFetchCountries","renderAddresses","addressesList","container","width","Menu","pointing","vertical","addressList","BaseRouter","exact","path","component","Login","Signup","CustomLayout","authenticated","cart","position","Dropdown","padding","stackable","List","link","shoppingCart","App","onTryAutoSignup","undefined","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","updateObject","oldObject","updatedProperties","initialState","authStart","action","authLogout","reducer","cartStart","cartSuccess","cartFail","addressStart","addressSuccess","addressFail","composeEnhances","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","authReducer","cartReducer","addressReducer","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.54ea1ae6.chunk.js","sourcesContent":["const Hoc = props => props.children;\n\nexport default Hoc;\n","import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\n\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START\n  };\n};\n\nexport const authSuccess = token => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token\n  };\n};\n\nexport const authFail = error => {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error\n  };\n};\n\nexport const logout = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"expirationDate\");\n  return {\n    type: actionTypes.AUTH_LOGOUT\n  };\n};\n\nexport const checkAuthTimeout = expirationTime => {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(logout());\n    }, expirationTime * 1000);\n  };\n};\n\nexport const authLogin = (username, password) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios\n      .post(\"http://127.0.0.1:8000/rest-auth/login/\", {\n        username: username,\n        password: password\n      })\n      .then(res => {\n        const token = res.data.key;\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"expirationDate\", expirationDate);\n        dispatch(authSuccess(token));\n        dispatch(checkAuthTimeout(3600));\n      })\n      .catch(err => {\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authSignup = (username, email, password1, password2) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios\n      .post(\"http://127.0.0.1:8000/rest-auth/registration/\", {\n        username: username,\n        email: email,\n        password1: password1,\n        password2: password2\n      })\n      .then(res => {\n        const token = res.data.key;\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"expirationDate\", expirationDate);\n        dispatch(authSuccess(token));\n        dispatch(checkAuthTimeout(3600));\n      })\n      .catch(err => {\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authCheckState = () => {\n  return dispatch => {\n    const token = localStorage.getItem(\"token\");\n    if (token === undefined) {\n      dispatch(logout());\n    } else {\n      const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\n      if (expirationDate <= new Date()) {\n        dispatch(logout());\n      } else {\n        dispatch(authSuccess(token));\n        dispatch(\n          checkAuthTimeout(\n            (expirationDate.getTime() - new Date().getTime()) / 1000\n          )\n        );\n      }\n    }\n  };\n};\n","export const AUTH_START = \"AUTH_START\";\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\nexport const AUTH_FAIL = \"AUTH_FAIL\";\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\n\nexport const CART_START = \"CART_START\";\nexport const CART_SUCCESS = \"CART_SUCCESS\";\nexport const CART_FAIL = \"CART_FAIL\";\n\nexport const ADDRESS_START = \"ADDRESS_START\";\nexport const ADDRESS_SUCCESS = \"ADDRESS_SUCCESS\";\nexport const ADDRESS_FAIL = \"ADDRESS_FAIL\";\n\nexport const FETCH_PAYMENTS_START = \"FETCH_PAYMENTS_START\";\nexport const FETCH_PAYMENTS_SUCCESS = \"FETCH_PAYMENTS_SUCCESS\";\nexport const FETCH_PAYMENTS_FAIL = \"FETCH_PAYMENTS_FAIL\";\n","const localhost = \"http://127.0.0.1:8000\";\r\nconst apiURL = \"/api\";\r\n\r\nexport const endpoint = `${localhost}${apiURL}`;\r\nexport const productListURL = `${endpoint}/products/`;\r\nexport const addToCartURL = `${endpoint}/add-to-cart/`;\r\nexport const orderSummaryURL = `${endpoint}/order-summary/`;\r\nexport const checkoutURL = `${endpoint}/checkout/`;\r\nexport const addCouponURL = `${endpoint}/add-coupon/`;\r\nexport const paymentListURL = `${endpoint}/payments/`;\r\nexport const userIDURL = `${endpoint}/user-id/`;\r\nexport const countryListURL = `${endpoint}/countries/`;\r\nexport const orderItemUpdateQuantityURL = `${endpoint}/order-item/update-quantity/`;\r\nexport const addressCreateURL = `${endpoint}/address/create/`;\r\nexport const productDetailURL = (id) => `${endpoint}/products/${id}/`;\r\nexport const addressUpdateURL = (id) => `${endpoint}/address/${id}/update/`;\r\nexport const addressDeleteURL = (id) => `${endpoint}/address/${id}/delete/`;\r\nexport const orderItemDeleteURL = (id) =>\r\n  `${endpoint}/order-item/${id}/delete/`;\r\nexport const addressListURL = (addressType) =>\r\n  `${endpoint}/addresses/?address_type=${addressType}`;\r\n","import axios from \"axios\";\r\nimport { endpoint } from \"./containers/constants\";\r\n\r\nexport const authAxios = axios.create({\r\n  baseURL: endpoint,\r\n  headers: {\r\n    Authorization: `Token ${localStorage.getItem(\"token\")}`,\r\n  },\r\n});\r\n","import { CART_START, CART_SUCCESS, CART_FAIL } from \"./actionTypes\";\r\n\r\nimport { authAxios } from \"../../Utils\";\r\nimport { orderSummaryURL } from \"../../containers/constants\";\r\n\r\nexport const cartStart = () => {\r\n  return {\r\n    type: CART_START,\r\n  };\r\n};\r\n\r\nexport const cartSuccess = (data) => {\r\n  return {\r\n    type: CART_SUCCESS,\r\n    data,\r\n  };\r\n};\r\n\r\nexport const cartFail = (error) => {\r\n  return {\r\n    type: CART_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchCart = () => {\r\n  return (dispatch) => {\r\n    dispatch(cartStart());\r\n    authAxios\r\n      .get(orderSummaryURL)\r\n      .then((res) => {\r\n        dispatch(cartSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(cartFail(err));\r\n      });\r\n  };\r\n};\r\n","import React from \"react\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n} from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport { authLogin } from \"../store/actions/auth\";\nimport { fetchCart } from \"../store/actions/Cart\";\n\nclass LoginForm extends React.Component {\n  state = {\n    username: \"\",\n    password: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    // e.preventDefault();\n    const { username, password } = this.state;\n    this.props.login(username, password);\n    this.setState({ username: \"\", password: \"\" });\n  };\n\n  render() {\n    const { error, loading, token } = this.props;\n    const { username, password } = this.state;\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <Grid\n        textAlign=\"center\"\n        style={{ height: \"100vh\" }}\n        verticalAlign=\"middle\"\n      >\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n            Log-in to your account\n          </Header>\n          {error && <p>{this.props.error.message}</p>}\n\n          <React.Fragment>\n            <Form size=\"large\" onSubmit={this.handleSubmit}>\n              <Segment stacked>\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={username}\n                  name=\"username\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Username\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password}\n                  name=\"password\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                />\n\n                <Button\n                  color=\"teal\"\n                  fluid\n                  size=\"large\"\n                  loading={loading}\n                  disabled={loading}\n                >\n                  Login\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              New to us? <NavLink to=\"/signup\">Sign Up</NavLink>\n            </Message>\n          </React.Fragment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    login: (username, password) => dispatch(authLogin(username, password)),\n    fetchCart: () => dispatch(fetchCart()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\n","import React from \"react\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n} from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport { authSignup } from \"../store/actions/auth\";\n\nclass RegistrationForm extends React.Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    password1: \"\",\n    password2: \"\",\n  };\n\n  handleSubmit = (e) => {\n    // e.preventDefault();\n    const { username, email, password1, password2 } = this.state;\n    this.props.signup(username, email, password1, password2);\n  };\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  render() {\n    const { username, email, password1, password2 } = this.state;\n    const { error, loading, token } = this.props;\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <Grid\n        textAlign=\"center\"\n        style={{ height: \"100vh\" }}\n        verticalAlign=\"middle\"\n      >\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n            Signup to your account\n          </Header>\n          {error && <p>{this.props.error.message}</p>}\n\n          <React.Fragment>\n            <Form size=\"large\" onSubmit={this.handleSubmit}>\n              <Segment stacked>\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={username}\n                  name=\"username\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Username\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={email}\n                  name=\"email\"\n                  fluid\n                  icon=\"mail\"\n                  iconPosition=\"left\"\n                  placeholder=\"E-mail address\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password1}\n                  name=\"password1\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password2}\n                  name=\"password2\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Confirm password\"\n                  type=\"password\"\n                />\n\n                <Button\n                  color=\"teal\"\n                  fluid\n                  size=\"large\"\n                  loading={loading}\n                  disabled={loading}\n                >\n                  Signup\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              Already have an account? <NavLink to=\"/login\">Login</NavLink>\n            </Message>\n          </React.Fragment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    signup: (username, email, password1, password2) =>\n      dispatch(authSignup(username, email, password1, password2)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegistrationForm);\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Container,\r\n  Dimmer,\r\n  Image,\r\n  Item,\r\n  Loader,\r\n  Message,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\n\r\nimport { productListURL, addToCartURL } from \"./constants\";\r\n\r\nimport { authAxios } from \"../Utils\";\r\n\r\nimport { fetchCart } from \"../store/actions/Cart\";\r\n\r\nclass ProductList extends React.Component {\r\n  state = {\r\n    loading: false,\r\n    error: null,\r\n    data: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    axios\r\n      .get(productListURL)\r\n      .then((res) => {\r\n        this.setState({ data: res.data, loading: false });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  }\r\n\r\n  handleAddToCart = (slug) => {\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .post(addToCartURL, { slug })\r\n      .then((res) => {\r\n        this.props.fetchCart();\r\n        this.setState({ loading: false });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { data, error, loading } = this.state;\r\n    return (\r\n      <Container>\r\n        {error && (\r\n          <Message\r\n            error\r\n            header=\"There was some errors with your submission\"\r\n            content={JSON.stringify(error)}\r\n          />\r\n        )}\r\n        {loading && (\r\n          <Segment>\r\n            <Dimmer active inverted>\r\n              <Loader inverted>Loading</Loader>\r\n            </Dimmer>\r\n            <Image src=\"/images/wireframe/short-paragraph.png\" />\r\n          </Segment>\r\n        )}\r\n        <Item.Group divided>\r\n          {data.map((item) => {\r\n            console.log(item.image);\r\n            console.log(item);\r\n\r\n            return (\r\n              <Item key={item.id}>\r\n                <Item.Image src={item.image} />\r\n                <Item.Content>\r\n                  <Item.Header\r\n                    as=\"a\"\r\n                    onClick={() =>\r\n                      this.props.history.push(`/products/${item.id}`)\r\n                    }\r\n                  >\r\n                    {item.title}\r\n                  </Item.Header>\r\n                  <Item.Meta>\r\n                    <span className=\"cinema\">{item.category} </span>\r\n                  </Item.Meta>\r\n                  <Item.Description>{item.description}</Item.Description>\r\n                </Item.Content>\r\n              </Item>\r\n            );\r\n          })}\r\n        </Item.Group>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchCart: () => dispatch(fetchCart()),\r\n  };\r\n};\r\nexport default connect(null, mapDispatchToProps)(ProductList);\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  Container,\r\n  Dimmer,\r\n  Divider,\r\n  Form,\r\n  Grid,\r\n  Header,\r\n  Icon,\r\n  Image,\r\n  Item,\r\n  Loader,\r\n  Message,\r\n  Segment,\r\n  Select,\r\n} from \"semantic-ui-react\";\r\n\r\nimport { productDetailURL, addToCartURL } from \"./constants\";\r\n\r\nimport { authAxios } from \"../Utils\";\r\n\r\nimport { fetchCart } from \"../store/actions/Cart\";\r\n\r\nclass ProductDetail extends React.Component {\r\n  state = {\r\n    loading: false,\r\n    error: null,\r\n    data: [],\r\n    formVisible: false,\r\n    formData: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleFetchItem();\r\n  }\r\n\r\n  handleToggleForm = () => {\r\n    const { formVisible } = this.state;\r\n    this.setState({ formVisible: !formVisible });\r\n  };\r\n\r\n  handleFetchItem = () => {\r\n    const {\r\n      match: { params },\r\n    } = this.props;\r\n    this.setState({ loading: true });\r\n    axios\r\n      .get(productDetailURL(params.productID))\r\n      .then((res) => {\r\n        this.setState({ data: res.data, loading: false });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  handleFormatData = (formData) => {\r\n    return Object.keys(formData).map((key) => {\r\n      return formData[key];\r\n    });\r\n  };\r\n\r\n  handleAddToCart = (slug) => {\r\n    this.setState({ loading: true });\r\n    const { formData } = this.state;\r\n    const variations = this.handleFormatData(formData);\r\n    authAxios\r\n      .post(addToCartURL, { slug, variations })\r\n      .then((res) => {\r\n        this.props.fetchCart();\r\n        this.setState({ loading: false });\r\n        this.props.history.push(\"/order-summary\");\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  handleChange = (e, { name, value }) => {\r\n    const { formData } = this.state;\r\n    const updatedFormData = {\r\n      ...formData,\r\n      [name]: value,\r\n    };\r\n    this.setState({ formData: updatedFormData });\r\n  };\r\n\r\n  render() {\r\n    const { data, error, formData, formVisible, loading } = this.state;\r\n    const item = data;\r\n    return (\r\n      <Container>\r\n        {error && (\r\n          <Message\r\n            error\r\n            header=\"There was some errors with your submission\"\r\n            content={JSON.stringify(error)}\r\n          />\r\n        )}\r\n        {loading && (\r\n          <Segment>\r\n            <Dimmer active inverted>\r\n              <Loader inverted>Loading</Loader>\r\n            </Dimmer>\r\n            <Image src=\"/images/wireframe/short-paragraph.png\" />\r\n          </Segment>\r\n        )}\r\n        <Grid columns={2} divided>\r\n          <Grid.Row>\r\n            <Grid.Column>\r\n              <Card\r\n                fluid\r\n                image={item.image}\r\n                header={item.title}\r\n                meta={<React.Fragment>{item.category}</React.Fragment>}\r\n                description={item.description}\r\n                extra={\r\n                  <React.Fragment>\r\n                    <Button\r\n                      fluid\r\n                      color=\"yellow\"\r\n                      floated=\"right\"\r\n                      icon\r\n                      labelPosition=\"right\"\r\n                      onClick={this.handleToggleForm}\r\n                    >\r\n                      Add to cart.\r\n                      <Icon name=\"cart plus\" />\r\n                    </Button>\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n              {formVisible && (\r\n                <Form>\r\n                  <React.Fragment>\r\n                    <Divider />\r\n                    {data.variations.map((v) => {\r\n                      const name = v.name.toLowerCase();\r\n                      return (\r\n                        <Form.Field key={v.id}>\r\n                          <Select\r\n                            name={name}\r\n                            onChange={this.handleChange}\r\n                            options={v.item_variations.map((item) => {\r\n                              return {\r\n                                key: item.id,\r\n                                text: item.value,\r\n                                value: item.id,\r\n                              };\r\n                            })}\r\n                            placeholder={`Choose a ${name}`}\r\n                            selection\r\n                            value={formData[name]}\r\n                          />\r\n                        </Form.Field>\r\n                      );\r\n                    })}\r\n\r\n                    <Form.Button\r\n                      onClick={() => this.handleAddToCart(item.slug)}\r\n                    >\r\n                      Submit\r\n                    </Form.Button>\r\n                  </React.Fragment>\r\n                </Form>\r\n              )}\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <Header as=\"h2\">Try different variations</Header>\r\n              {data.variations &&\r\n                data.variations.map((v) => {\r\n                  return (\r\n                    <React.Fragment key={v.id}>\r\n                      <Header as=\"h3\">{v.name}</Header>\r\n                      <Item.Group divided>\r\n                        {v.item_variations.map((iv) => {\r\n                          return (\r\n                            <Item key={iv.id}>\r\n                              {iv.attachment && (\r\n                                <Item.Image\r\n                                  size=\"tiny\"\r\n                                  src={`http://127.0.0.1:8000${iv.attachment}`}\r\n                                />\r\n                              )}\r\n                              <Item.Content verticalAlign=\"middle\">\r\n                                {iv.value}\r\n                              </Item.Content>\r\n                            </Item>\r\n                          );\r\n                        })}\r\n                      </Item.Group>\r\n                    </React.Fragment>\r\n                  );\r\n                })}\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n        </Grid>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchCart: () => dispatch(fetchCart()),\r\n  };\r\n};\r\nexport default withRouter(connect(null, mapDispatchToProps)(ProductDetail));\r\n","import React from \"react\";\r\nimport {\r\n  Container,\r\n  Dimmer,\r\n  Header,\r\n  Icon,\r\n  Image,\r\n  Label,\r\n  Loader,\r\n  Table,\r\n  Button,\r\n  Message,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { authAxios } from \"../Utils\";\r\nimport {\r\n  addToCartURL,\r\n  orderSummaryURL,\r\n  orderItemDeleteURL,\r\n  orderItemUpdateQuantityURL,\r\n} from \"./constants\";\r\n\r\nclass OrderSummary extends React.Component {\r\n  state = {\r\n    data: null,\r\n    error: null,\r\n    loading: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleFetchOrder();\r\n  }\r\n\r\n  handleFetchOrder = () => {\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .get(orderSummaryURL)\r\n      .then((res) => {\r\n        this.setState({ data: res.data, loading: false });\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.status === 404) {\r\n          this.setState({\r\n            error: \"You currently do not have an order\",\r\n            loading: false,\r\n          });\r\n        } else {\r\n          this.setState({ error: err, loading: false });\r\n        }\r\n      });\r\n  };\r\n\r\n  renderVariations = (orderItem) => {\r\n    let text = \"\";\r\n    orderItem.item_variations.forEach((iv) => {\r\n      text += `${iv.variation.name}: ${iv.value}, `;\r\n    });\r\n    return text;\r\n  };\r\n\r\n  handleFormatData = (itemVariations) => {\r\n    // convert [{id: 1},{id: 2}] to [1,2] - they're all variations\r\n    return Object.keys(itemVariations).map((key) => {\r\n      return itemVariations[key].id;\r\n    });\r\n  };\r\n\r\n  handleAddToCart = (slug, itemVariations) => {\r\n    this.setState({ loading: true });\r\n    const variations = this.handleFormatData(itemVariations);\r\n    authAxios\r\n      .post(addToCartURL, { slug, variations })\r\n      .then((res) => {\r\n        this.handleFetchOrder();\r\n        this.setState({ loading: false });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  handleRemoveQuantityFromCart = (slug) => {\r\n    authAxios\r\n      .post(orderItemUpdateQuantityURL, { slug })\r\n      .then((res) => {\r\n        this.handleFetchOrder();\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleRemoveItem = (itemID) => {\r\n    authAxios\r\n      .delete(orderItemDeleteURL(itemID))\r\n      .then((res) => {\r\n        this.handleFetchOrder();\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { data, error, loading } = this.state;\r\n    const { isAuthenticated } = this.props;\r\n    if (!isAuthenticated) {\r\n      return <Redirect to=\"/login\" />;\r\n    }\r\n    console.log(data);\r\n\r\n    return (\r\n      <Container>\r\n        <Header>Order Summary</Header>\r\n        {error && (\r\n          <Message\r\n            error\r\n            header=\"There was an error\"\r\n            content={JSON.stringify(error)}\r\n          />\r\n        )}\r\n        {loading && (\r\n          <Segment>\r\n            <Dimmer active inverted>\r\n              <Loader inverted>Loading</Loader>\r\n            </Dimmer>\r\n\r\n            <Image src=\"https://react.semantic-ui.com/images/wireframe/short-paragraph.png\" />\r\n          </Segment>\r\n        )}\r\n        {data && (\r\n          <Table celled>\r\n            <Table.Header>\r\n              <Table.Row>\r\n                <Table.HeaderCell>Item #</Table.HeaderCell>\r\n                <Table.HeaderCell>Item name</Table.HeaderCell>\r\n                <Table.HeaderCell>Item price</Table.HeaderCell>\r\n                <Table.HeaderCell>Item quantity</Table.HeaderCell>\r\n                <Table.HeaderCell>Total item price</Table.HeaderCell>\r\n              </Table.Row>\r\n            </Table.Header>\r\n\r\n            <Table.Body>\r\n              {data.order_items.map((orderItem, i) => {\r\n                return (\r\n                  <Table.Row key={orderItem.id}>\r\n                    <Table.Cell>{i + 1}</Table.Cell>\r\n                    <Table.Cell>\r\n                      {orderItem.item.title} -{\" \"}\r\n                      {this.renderVariations(orderItem)}\r\n                    </Table.Cell>\r\n                    <Table.Cell>${orderItem.item.price}</Table.Cell>\r\n                    <Table.Cell textAlign=\"center\">\r\n                      <Icon\r\n                        name=\"minus\"\r\n                        style={{ float: \"left\", cursor: \"pointer\" }}\r\n                        onClick={() =>\r\n                          this.handleRemoveQuantityFromCart(orderItem.item.slug)\r\n                        }\r\n                      />\r\n                      {orderItem.quantity}\r\n                      <Icon\r\n                        name=\"plus\"\r\n                        style={{ float: \"right\", cursor: \"pointer\" }}\r\n                        onClick={() =>\r\n                          this.handleAddToCart(\r\n                            orderItem.item.slug,\r\n                            orderItem.item_variations\r\n                          )\r\n                        }\r\n                      />\r\n                    </Table.Cell>\r\n                    <Table.Cell>\r\n                      {orderItem.item.discount_price && (\r\n                        <Label color=\"green\" ribbon>\r\n                          ON DISCOUNT\r\n                        </Label>\r\n                      )}\r\n                      ${orderItem.final_price}\r\n                      <Icon\r\n                        name=\"trash\"\r\n                        color=\"red\"\r\n                        style={{ float: \"right\", cursor: \"pointer\" }}\r\n                        onClick={() => this.handleRemoveItem(orderItem.id)}\r\n                      />\r\n                    </Table.Cell>\r\n                  </Table.Row>\r\n                );\r\n              })}\r\n              <Table.Row>\r\n                <Table.Cell />\r\n                <Table.Cell />\r\n                <Table.Cell />\r\n                <Table.Cell textAlign=\"right\" colSpan=\"2\">\r\n                  Order Total: ${data.total}\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            </Table.Body>\r\n\r\n            <Table.Footer>\r\n              <Table.Row>\r\n                <Table.HeaderCell colSpan=\"5\">\r\n                  <Link to=\"/checkout\">\r\n                    <Button floated=\"right\" color=\"yellow\">\r\n                      Checkout\r\n                    </Button>\r\n                  </Link>\r\n                </Table.HeaderCell>\r\n              </Table.Row>\r\n            </Table.Footer>\r\n          </Table>\r\n        )}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(OrderSummary);\r\n","import React from \"react\";\r\nimport { CardElement, ElementsConsumer } from \"@stripe/react-stripe-js\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\n\r\nimport {\r\n  Button,\r\n  Container,\r\n  Divider,\r\n  Dimmer,\r\n  Header,\r\n  Item,\r\n  Image,\r\n  Label,\r\n  Loader,\r\n  Message,\r\n  Segment,\r\n  Form,\r\n} from \"semantic-ui-react\";\r\n\r\nimport {\r\n  checkoutURL,\r\n  orderSummaryURL,\r\n  addCouponURL,\r\n  addressListURL,\r\n} from \"../containers/constants\";\r\n\r\nimport { authAxios } from \"../Utils\";\r\n\r\nconst stripePromise = loadStripe(\r\n  \"pk_test_51Ha0vNGV70HGHFAGYq6tdL9DjEXnL6uslIYoVA7TLvwLhW1EHWUWiMh0KM4PEkxkzCsy6Y0mbkjAdXCBzlPzJVbx00Mtss3kPN\"\r\n);\r\n\r\nconst OrderPreview = (props) => {\r\n  const { data } = props;\r\n  return (\r\n    <React.Fragment>\r\n      {data && (\r\n        <React.Fragment>\r\n          <Item.Group relaxed>\r\n            {data.order_items.map((order_item, i) => {\r\n              return (\r\n                <Item key={i}>\r\n                  <Item.Image\r\n                    size=\"tiny\"\r\n                    src={`http://127.0.0.1:8000${order_item.item.image}`}\r\n                  />\r\n\r\n                  <Item.Content verticalAlign=\"middle\">\r\n                    <Item.Header as=\"a\">\r\n                      {order_item.quantity} x {order_item.item.title}\r\n                    </Item.Header>\r\n\r\n                    <Item.Extra>\r\n                      <Label>$ {order_item.final_price}</Label>\r\n                    </Item.Extra>\r\n                  </Item.Content>\r\n                </Item>\r\n              );\r\n            })}\r\n          </Item.Group>\r\n\r\n          <Item.Group>\r\n            <Item.Content>\r\n              <Item.Header>\r\n                Order Total: ${data.total}\r\n                {data.coupon && (\r\n                  <Label color=\"green\" style={{ marginLeft: \"15px\" }}>\r\n                    Current Coupon: {data.coupon.code} for ${data.coupon.amount}\r\n                  </Label>\r\n                )}\r\n              </Item.Header>\r\n            </Item.Content>\r\n          </Item.Group>\r\n        </React.Fragment>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nclass CouponForm extends React.Component {\r\n  state = {\r\n    code: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ code: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    const { code } = this.state;\r\n    this.props.handleAddCoupon(e, code);\r\n    this.setState({ code: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { code } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Form.Field>\r\n            <label>Coupong Code</label>\r\n            <input\r\n              placeholder=\"Enter a coupon\"\r\n              value={code}\r\n              onChange={this.handleChange}\r\n            />\r\n          </Form.Field>\r\n          <Button type=\"submit\">Submit</Button>\r\n        </Form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nclass CheckoutForm extends React.Component {\r\n  state = {\r\n    loading: true,\r\n    error: null,\r\n    success: false,\r\n    data: null,\r\n    billing: [],\r\n    shipping: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleFetchOrder();\r\n  }\r\n\r\n  handleFetchBillingAddress = () => {\r\n    // const { billing } = this.state;\r\n\r\n    authAxios\r\n      .get(addressListURL(\"B\"))\r\n      .then((res) => {\r\n        this.setState({ billing: res.data });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleFetchShippingAddress = () => {\r\n    // this.setState({ loading: true });\r\n    // const { shipping } = this.state;\r\n    authAxios\r\n      .get(addressListURL(\"S\"))\r\n      .then((res) => {\r\n        // this.setState({ shipping: res.data, loading: false });\r\n        this.setState({ shipping: res.data });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleFetchOrder = () => {\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .get(orderSummaryURL)\r\n      .then((res) => {\r\n        this.setState({ data: res.data, loading: false });\r\n        this.handleFetchBillingAddress();\r\n        this.handleFetchShippingAddress();\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.status === 404) {\r\n          console.log(this.props.history);\r\n          this.props.history.push(\"/\");\r\n        } else {\r\n          this.setState({ error: err, loading: false });\r\n        }\r\n      });\r\n  };\r\n  handleAddCoupon = (e, code) => {\r\n    // e.preventDefault();\r\n    this.setState({ loading: true });\r\n\r\n    authAxios\r\n      .post(addCouponURL, { code })\r\n      .then((res) => {\r\n        this.setState({ loading: false });\r\n        this.handleFetchOrder();\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    // Block native form submission.\r\n    event.preventDefault();\r\n\r\n    const { stripe, elements } = this.props;\r\n\r\n    if (!stripe || !elements) {\r\n      // Stripe.js has not loaded yet. Make sure to disable\r\n      // form submission until Stripe.js has loaded.\r\n      return;\r\n    }\r\n\r\n    this.setState({ loading: true });\r\n    // Get a reference to a mounted CardElement. Elements knows how\r\n    // to find your CardElement because there can only ever be one of\r\n    // each type of element.\r\n    const cardElement = elements.getElement(CardElement);\r\n\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: cardElement,\r\n    });\r\n    authAxios\r\n      .post(checkoutURL, { stripeToken: paymentMethod.card })\r\n      .then((res) => {\r\n        this.setState({ loading: false, success: true });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ loading: false, error: err });\r\n      });\r\n\r\n    if (error) {\r\n      console.log(\"[error]\", error);\r\n    } else {\r\n      console.log(\"[PaymentMethod]\", paymentMethod);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { stripe } = this.props;\r\n    const { data, error, loading, success, shipping, billing } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {error && (\r\n          <Message\r\n            error\r\n            header=\"There was some errors with your submission\"\r\n            content={JSON.stringify(error)}\r\n          />\r\n        )}\r\n        {loading && (\r\n          <Segment>\r\n            <Dimmer active inverted>\r\n              <Loader inverted>Loading</Loader>\r\n            </Dimmer>\r\n\r\n            <Image src=\"/images/wireframe/short-paragraph.png\" />\r\n          </Segment>\r\n        )}\r\n        {success && (\r\n          <Message positive>\r\n            <Message.Header>Your payment was successful</Message.Header>\r\n            <p>\r\n              Go to you <b>profile</b> to see the order delivery status.\r\n            </p>\r\n          </Message>\r\n        )}\r\n        <OrderPreview data={data} />\r\n        <Divider />\r\n        <CouponForm\r\n          handleAddCoupon={(e, code) => this.handleAddCoupon(e, code)}\r\n        />\r\n        <Divider />\r\n\r\n        {billing.length >= 1 && shipping.length >= 1 ? (\r\n          <div>\r\n            <Header>Would you like to complete the purchase ?</Header>\r\n\r\n            <form onSubmit={this.handleSubmit}>\r\n              <CardElement />\r\n\r\n              <Button\r\n                secondary\r\n                type=\"submit\"\r\n                disabled={!stripe}\r\n                style={{ marginTop: \"10px\" }}\r\n                // loading={loading}\r\n                // disabled={loading}\r\n              >\r\n                Pay\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            {\" \"}\r\n            <Header as=\"h5\">\r\n              <Link to=\"/profile\">\r\n                Please go to your profile and provide your addresses..\r\n              </Link>\r\n            </Header>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst InjectedCheckoutForm = () => {\r\n  return (\r\n    <Container text>\r\n      <h3>Complete your Order</h3>\r\n      <Elements stripe={stripePromise}>\r\n        <ElementsConsumer>\r\n          {({ elements, stripe }) => (\r\n            <CheckoutForm elements={elements} stripe={stripe} />\r\n          )}\r\n        </ElementsConsumer>\r\n      </Elements>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(InjectedCheckoutForm);\r\n","import React from \"react\";\r\nimport { Table } from \"semantic-ui-react\";\r\n\r\nimport { authAxios } from \"../Utils\";\r\n\r\nimport { paymentListURL } from \"./constants\";\r\n\r\nclass PaymentHistory extends React.Component {\r\n  state = {\r\n    payments: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleFetchPayments();\r\n  }\r\n\r\n  handleFetchPayments = () => {\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .get(paymentListURL)\r\n      .then((res) => {\r\n        this.setState({\r\n          loading: false,\r\n          payments: res.data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { payments } = this.state;\r\n    return (\r\n      <Table celled>\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.HeaderCell>ID</Table.HeaderCell>\r\n            <Table.HeaderCell>Amount</Table.HeaderCell>\r\n            <Table.HeaderCell>Date</Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {payments.map((p) => {\r\n            return (\r\n              <Table.Row key={p.id}>\r\n                <Table.Cell>{p.id}</Table.Cell>\r\n                <Table.Cell>${p.amount}</Table.Cell>\r\n                <Table.Cell>{new Date(p.timestamp).toUTCString()}</Table.Cell>\r\n              </Table.Row>\r\n            );\r\n          })}\r\n        </Table.Body>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\nexport default PaymentHistory;\r\n","import React from \"react\";\r\nimport { Form, Select, Message } from \"semantic-ui-react\";\r\nimport { addressCreateURL, addressUpdateURL } from \"./constants\";\r\nimport { authAxios } from \"../Utils\";\r\n\r\nconst UPDATE_FORM = \"UPDATE_FORM\";\r\nconst CREATE_FORM = \"CREATE_FORM\";\r\n\r\nclass AddressForm extends React.Component {\r\n  state = {\r\n    error: null,\r\n    loading: false,\r\n    formData: {\r\n      address_type: \"\",\r\n      apartment_address: \"\",\r\n      country: \"\",\r\n      default: false,\r\n      id: \"\",\r\n      street_address: \"\",\r\n      user: 1,\r\n      zip: \"\",\r\n    },\r\n    saving: false,\r\n    success: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { address, formType } = this.props;\r\n    if (formType === UPDATE_FORM) {\r\n      this.setState({ formData: address });\r\n    }\r\n  }\r\n\r\n  handleToggleDefault = () => {\r\n    const { formData } = this.state;\r\n    const updatedFormdata = {\r\n      ...formData,\r\n      default: !formData.default,\r\n    };\r\n    this.setState({\r\n      formData: updatedFormdata,\r\n    });\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const { formData } = this.state;\r\n    const updatedFormdata = {\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    };\r\n    this.setState({\r\n      formData: updatedFormdata,\r\n    });\r\n  };\r\n\r\n  handleSelectChange = (e, { name, value }) => {\r\n    const { formData } = this.state;\r\n    const updatedFormdata = {\r\n      ...formData,\r\n      [name]: value,\r\n    };\r\n    this.setState({\r\n      formData: updatedFormdata,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    this.setState({ saving: true });\r\n    e.preventDefault();\r\n    const { formType } = this.props;\r\n    if (formType === UPDATE_FORM) {\r\n      this.handleUpdateAddress();\r\n    } else {\r\n      this.handleCreateAddress();\r\n    }\r\n  };\r\n\r\n  handleCreateAddress = () => {\r\n    const { userID, activeItem } = this.props;\r\n    const { formData } = this.state;\r\n    authAxios\r\n      .post(addressCreateURL, {\r\n        ...formData,\r\n        user: userID,\r\n        address_type: activeItem === \"billingAddress\" ? \"B\" : \"S\",\r\n      })\r\n      .then((res) => {\r\n        this.setState({\r\n          saving: false,\r\n          success: true,\r\n          formData: { default: false },\r\n        });\r\n        this.props.callback();\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err });\r\n      });\r\n\r\n    this.setState({\r\n      formData: {\r\n        address_type: \"\",\r\n        apartment_address: \"\",\r\n        country: \"\",\r\n        default: false,\r\n        id: \"\",\r\n        street_address: \"\",\r\n        user: 1,\r\n        zip: \"\",\r\n      },\r\n    });\r\n  };\r\n\r\n  handleUpdateAddress = () => {\r\n    const { userID, activeItem } = this.props;\r\n    const { formData } = this.state;\r\n    authAxios\r\n      .put(addressUpdateURL(formData.id), {\r\n        ...formData,\r\n        user: userID,\r\n        address_type: activeItem === \"billingAddress\" ? \"B\" : \"S\",\r\n      })\r\n      .then((res) => {\r\n        this.setState({\r\n          saving: false,\r\n          success: true,\r\n          formData: { default: false },\r\n        });\r\n        this.props.callback();\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { countries } = this.props;\r\n    const { error, formData, success, saving } = this.state;\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} success={success} error={error}>\r\n        <Form.Input\r\n          required\r\n          name=\"street_address\"\r\n          placeholder=\"Street address\"\r\n          onChange={this.handleChange}\r\n          value={formData.street_address}\r\n        />\r\n        <Form.Input\r\n          required\r\n          name=\"apartment_address\"\r\n          placeholder=\"Apartment address\"\r\n          onChange={this.handleChange}\r\n          value={formData.apartment_address}\r\n        />\r\n        <Form.Field required>\r\n          <Select\r\n            loading={countries.length < 1}\r\n            fluid\r\n            clearable\r\n            search\r\n            options={countries}\r\n            name=\"country\"\r\n            placeholder=\"Country\"\r\n            onChange={this.handleSelectChange}\r\n            value={formData.country}\r\n          />\r\n        </Form.Field>\r\n        <Form.Input\r\n          required\r\n          name=\"zip\"\r\n          placeholder=\"Zip code\"\r\n          onChange={this.handleChange}\r\n          value={formData.zip}\r\n        />\r\n        <Form.Checkbox\r\n          name=\"default\"\r\n          label=\"Make this the default address?\"\r\n          onChange={this.handleToggleDefault}\r\n          checked={formData.default}\r\n        />\r\n        {success && (\r\n          <Message success header=\"Success!\" content=\"Your address was saved\" />\r\n        )}\r\n        {error && (\r\n          <Message\r\n            error\r\n            header=\"There was an error\"\r\n            content={JSON.stringify(error)}\r\n          />\r\n        )}\r\n        <Form.Button disabled={saving} loading={saving} secondary>\r\n          Save\r\n        </Form.Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\nexport default AddressForm;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  Dimmer,\r\n  Divider,\r\n  Grid,\r\n  Header,\r\n  Image,\r\n  Label,\r\n  Loader,\r\n  Menu,\r\n  Message,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\nimport { countryListURL, addressDeleteURL, userIDURL } from \"./constants\";\r\nimport { authAxios } from \"../Utils\";\r\nimport { fetchAddresses } from \"../store/actions/Address\";\r\n\r\nimport PaymentHistory from \"./PaymentHistory\";\r\nimport AddressForm from \"./AddressForm\";\r\n\r\nconst UPDATE_FORM = \"UPDATE_FORM\";\r\nconst CREATE_FORM = \"CREATE_FORM\";\r\n\r\nlet globalActiveItem = \"billingAddress\";\r\n\r\nclass Profile extends React.Component {\r\n  state = {\r\n    activeItem: \"billingAddress\",\r\n    addresses: [],\r\n    countries: [],\r\n    userID: null,\r\n    selectedAddress: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.fetchAddresses();\r\n    this.handleFetchCountries();\r\n    this.handleFetchUserID();\r\n  }\r\n\r\n  handleItemClick = (name) => {\r\n    this.setState({ activeItem: name }, () => {\r\n      globalActiveItem = this.state.activeItem;\r\n      this.props.fetchAddresses();\r\n    });\r\n  };\r\n\r\n  handleGetActiveItem = () => {\r\n    const { activeItem } = this.state;\r\n    if (activeItem === \"billingAddress\") {\r\n      return \"Billing Address\";\r\n    } else if (activeItem === \"shippingAddress\") {\r\n      return \"Shipping Address\";\r\n    }\r\n    return \"Payment History\";\r\n  };\r\n\r\n  handleFormatCountries = (countries) => {\r\n    const keys = Object.keys(countries);\r\n    return keys.map((k) => {\r\n      return {\r\n        key: k,\r\n        text: countries[k],\r\n        value: k,\r\n      };\r\n    });\r\n  };\r\n\r\n  handleDeleteAddress = (addressID) => {\r\n    authAxios\r\n      .delete(addressDeleteURL(addressID))\r\n      .then((res) => {\r\n        this.handleCallback();\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleSelectAddress = (address) => {\r\n    this.setState({ selectedAddress: address });\r\n  };\r\n\r\n  handleFetchUserID = () => {\r\n    authAxios\r\n      .get(userIDURL)\r\n      .then((res) => {\r\n        this.setState({ userID: res.data.userID });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleFetchCountries = () => {\r\n    authAxios\r\n      .get(countryListURL)\r\n      .then((res) => {\r\n        this.setState({ countries: this.handleFormatCountries(res.data) });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err });\r\n      });\r\n  };\r\n\r\n  handleCallback = () => {\r\n    this.props.fetchAddresses();\r\n    this.setState({ selectedAddress: null });\r\n  };\r\n\r\n  renderAddresses = () => {\r\n    const {\r\n      activeItem,\r\n      addresses,\r\n      countries,\r\n      selectedAddress,\r\n      userID,\r\n    } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <Card.Group>\r\n          {this.props.addressesList.map((a) => {\r\n            return (\r\n              <Card key={a.id}>\r\n                <Card.Content>\r\n                  {a.default && (\r\n                    <Label as=\"a\" color=\"blue\" ribbon=\"right\">\r\n                      Default\r\n                    </Label>\r\n                  )}\r\n                  <Card.Header>\r\n                    {a.street_address}, {a.apartment_address}\r\n                  </Card.Header>\r\n                  <Card.Meta>{a.country}</Card.Meta>\r\n                  <Card.Description>{a.zip}</Card.Description>\r\n                </Card.Content>\r\n                <Card.Content extra>\r\n                  <Button\r\n                    color=\"yellow\"\r\n                    onClick={() => this.handleSelectAddress(a)}\r\n                  >\r\n                    Update\r\n                  </Button>\r\n                  <Button\r\n                    color=\"red\"\r\n                    onClick={() => this.handleDeleteAddress(a.id)}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                </Card.Content>\r\n              </Card>\r\n            );\r\n          })}\r\n        </Card.Group>\r\n        {addresses.length > 0 ? <Divider /> : null}\r\n        {selectedAddress === null ? (\r\n          <AddressForm\r\n            activeItem={activeItem}\r\n            countries={countries}\r\n            formType={CREATE_FORM}\r\n            userID={userID}\r\n            callback={this.handleCallback}\r\n          />\r\n        ) : null}\r\n        {selectedAddress && (\r\n          <AddressForm\r\n            activeItem={activeItem}\r\n            userID={userID}\r\n            countries={countries}\r\n            address={selectedAddress}\r\n            formType={UPDATE_FORM}\r\n            callback={this.handleCallback}\r\n          />\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { activeItem, error, loading } = this.state;\r\n    const { isAuthenticated } = this.props;\r\n    // console.log(error);\r\n\r\n    if (!isAuthenticated) {\r\n      return <Redirect to=\"/login\" />;\r\n    }\r\n    return (\r\n      <Grid container columns={2} divided>\r\n        <Grid.Row columns={1}>\r\n          <Grid.Column>\r\n            {error && (\r\n              <Message\r\n                error\r\n                header=\"There was an error\"\r\n                content={JSON.stringify(error)}\r\n              />\r\n            )}\r\n            {loading && (\r\n              <Segment>\r\n                <Dimmer active inverted>\r\n                  <Loader inverted>Loading</Loader>\r\n                </Dimmer>\r\n                <Image src=\"/images/wireframe/short-paragraph.png\" />\r\n              </Segment>\r\n            )}\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n        <Grid.Row>\r\n          <Grid.Column width={6}>\r\n            <Menu pointing vertical fluid>\r\n              <Menu.Item\r\n                name=\"Billing Address\"\r\n                active={activeItem === \"billingAddress\"}\r\n                onClick={() => this.handleItemClick(\"billingAddress\")}\r\n              />\r\n              <Menu.Item\r\n                name=\"Shipping Address\"\r\n                active={activeItem === \"shippingAddress\"}\r\n                onClick={() => this.handleItemClick(\"shippingAddress\")}\r\n              />\r\n              <Menu.Item\r\n                name=\"Payment history\"\r\n                active={activeItem === \"paymentHistory\"}\r\n                onClick={() => this.handleItemClick(\"paymentHistory\")}\r\n              />\r\n            </Menu>\r\n          </Grid.Column>\r\n          <Grid.Column width={10}>\r\n            <Header>{this.handleGetActiveItem()}</Header>\r\n            <Divider />\r\n            {activeItem === \"paymentHistory\" ? (\r\n              <PaymentHistory />\r\n            ) : (\r\n              this.renderAddresses()\r\n            )}\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null,\r\n    addressesList: state.address.addressList,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchAddresses: () =>\r\n      dispatch(\r\n        fetchAddresses(globalActiveItem === \"billingAddress\" ? \"B\" : \"S\")\r\n      ),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import { ADDRESS_START, ADDRESS_SUCCESS, ADDRESS_FAIL } from \"./actionTypes\";\r\n\r\nimport { authAxios } from \"../../Utils\";\r\nimport { addressListURL } from \"../../containers/constants\";\r\n\r\nexport const addressStart = () => {\r\n  return {\r\n    type: ADDRESS_START,\r\n  };\r\n};\r\n\r\nexport const addressSuccess = (data) => {\r\n  return {\r\n    type: ADDRESS_SUCCESS,\r\n    data,\r\n  };\r\n};\r\n\r\nexport const addressFail = (error) => {\r\n  return {\r\n    type: ADDRESS_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchAddresses = (addressType) => {\r\n  return (dispatch) => {\r\n    dispatch(addressStart());\r\n    authAxios\r\n      .get(addressListURL(addressType))\r\n      .then((res) => {\r\n        dispatch(addressSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(addressFail(err));\r\n      });\r\n  };\r\n};\r\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Hoc from \"./hoc/hoc\";\n\nimport Login from \"./containers/Login\";\nimport Signup from \"./containers/Signup\";\nimport ProductList from \"./containers/ProductList\";\nimport ProductDetail from \"./containers/ProductDetail\";\nimport OrderSummary from \"./containers/OrderSummary\";\nimport CheckoutForm from \"./containers/Checkout\";\nimport Profile from \"./containers/Profile\";\n\nconst BaseRouter = () => (\n  <Hoc>\n    <Route exact path=\"/products\" component={ProductList} />\n    <Route path=\"/products/:productID\" component={ProductDetail} />\n    <Route path=\"/order-summary\" component={OrderSummary} />\n    <Route path=\"/checkout\" component={CheckoutForm} />\n    <Route path=\"/profile\" component={Profile} />\n    <Route path=\"/login\" component={Login} />\n    <Route path=\"/signup\" component={Signup} />\n    <Route exact path=\"/\" component={ProductList} />\n  </Hoc>\n);\n\nexport default BaseRouter;\n","import React from \"react\";\nimport {\n  Container,\n  Dropdown,\n  Grid,\n  Header,\n  List,\n  Menu,\n  Segment,\n} from \"semantic-ui-react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../store/actions/auth\";\nimport { fetchCart } from \"../store/actions/Cart\";\n\nclass CustomLayout extends React.Component {\n  componentDidMount() {\n    this.props.fetchCart();\n  }\n  render() {\n    const { authenticated, cart, loading } = this.props;\n    return (\n      <div>\n        <Menu inverted>\n          <Container>\n            {/* <Link to=\"/\">\n              <Menu.Item header>Home</Menu.Item>\n            </Link> */}\n            <Link to=\"/products\">\n              <Menu.Item header>Products</Menu.Item>\n            </Link>\n            {authenticated ? (\n              <React.Fragment>\n                <Menu.Menu position=\"right\">\n                  <Link to=\"/profile\">\n                    <Menu.Item>Profile</Menu.Item>\n                  </Link>\n                  <Dropdown\n                    icon=\"cart\"\n                    loading={loading}\n                    text={`${cart !== null ? cart.order_items.length : 0}`}\n                    pointing\n                    className=\"link item\"\n                  >\n                    <Dropdown.Menu>\n                      {cart !== null ? (\n                        <React.Fragment>\n                          {cart.order_items.map((order_item) => {\n                            return (\n                              <Dropdown.Item key={order_item.id}>\n                                {order_item.quantity} x {order_item.item.title}\n                              </Dropdown.Item>\n                            );\n                          })}\n                          {cart.order_items.length < 1 ? (\n                            <Dropdown.Item>No items in your cart</Dropdown.Item>\n                          ) : null}\n                          <Dropdown.Divider />\n\n                          <Dropdown.Item\n                            icon=\"arrow right\"\n                            text=\"Checkout\"\n                            onClick={() =>\n                              this.props.history.push(\"/order-summary\")\n                            }\n                          />\n                        </React.Fragment>\n                      ) : (\n                        <Dropdown.Item>No items in your cart</Dropdown.Item>\n                      )}\n                    </Dropdown.Menu>\n                  </Dropdown>\n                  <Menu.Item header onClick={() => this.props.logout()}>\n                    Logout\n                  </Menu.Item>\n                </Menu.Menu>\n              </React.Fragment>\n            ) : (\n              <Menu.Menu position=\"right\">\n                <Link to=\"/login\">\n                  <Menu.Item header>Login</Menu.Item>\n                </Link>\n                <Link to=\"/signup\">\n                  <Menu.Item header>Signup</Menu.Item>\n                </Link>\n              </Menu.Menu>\n            )}\n          </Container>\n        </Menu>\n\n        {this.props.children}\n        <br />\n\n        <Segment inverted vertical style={{ padding: \"5em 4em\" }}>\n          <Container>\n            <Grid divided inverted stackable>\n              <Grid.Row>\n                <Grid.Column width={3}>\n                  <Header inverted as=\"h4\" content=\"About\" />\n                  <List link inverted>\n                    <List.Item as=\"a\">Sitemap</List.Item>\n                    <List.Item as=\"a\">Contact Us</List.Item>\n                    <List.Item as=\"a\">Religious Ceremonies</List.Item>\n                    <List.Item as=\"a\">Gazebo Plans</List.Item>\n                  </List>\n                </Grid.Column>\n                <Grid.Column width={3}>\n                  <Header inverted as=\"h4\" content=\"Services\" />\n                  <List link inverted>\n                    <List.Item as=\"a\">Banana Pre-Order</List.Item>\n                    <List.Item as=\"a\">DNA FAQ</List.Item>\n                    <List.Item as=\"a\">How To Access</List.Item>\n                    <List.Item as=\"a\">Favorite X-Men</List.Item>\n                  </List>\n                </Grid.Column>\n                <Grid.Column width={7}>\n                  <Header as=\"h4\" inverted>\n                    What are you waiting for ?\n                  </Header>\n                  <p>\n                    Go purshase some of this amazing articles, you wont'asd\n                    regret it.\n                  </p>\n                </Grid.Column>\n              </Grid.Row>\n            </Grid>\n          </Container>\n        </Segment>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    authenticated: state.auth.token !== null,\n    cart: state.cart.shoppingCart,\n    loading: state.cart.loading,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    logout: () => dispatch(logout()),\n    fetchCart: () => dispatch(fetchCart()),\n  };\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(CustomLayout)\n);\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport BaseRouter from \"./routes\";\nimport * as actions from \"./store/actions/auth\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport CustomLayout from \"./containers/Layout\";\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onTryAutoSignup();\n  }\n\n  render() {\n    return (\n      <Router>\n        <CustomLayout {...this.props}>\n          <BaseRouter />\n        </CustomLayout>\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthenticated: state.auth.token !== null,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onTryAutoSignup: () => dispatch(actions.authCheckState()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const updateObject = (oldObject, updatedProperties) => {\n  return {\n    ...oldObject,\n    ...updatedProperties\n  };\n};\n","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  token: null,\n  error: null,\n  loading: false\n};\n\nconst authStart = (state, action) => {\n  return updateObject(state, {\n    error: null,\n    loading: true\n  });\n};\n\nconst authSuccess = (state, action) => {\n  return updateObject(state, {\n    token: action.token,\n    error: null,\n    loading: false\n  });\n};\n\nconst authFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false\n  });\n};\n\nconst authLogout = (state, action) => {\n  return updateObject(state, {\n    token: null\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.AUTH_START:\n      return authStart(state, action);\n    case actionTypes.AUTH_SUCCESS:\n      return authSuccess(state, action);\n    case actionTypes.AUTH_FAIL:\n      return authFail(state, action);\n    case actionTypes.AUTH_LOGOUT:\n      return authLogout(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { CART_START, CART_SUCCESS, CART_FAIL } from \"./../actions/actionTypes\";\r\nimport { updateObject } from \"../utility\";\r\n\r\nconst initialState = {\r\n  shoppingCart: null,\r\n  error: null,\r\n  loading: false,\r\n};\r\n\r\nconst cartStart = (state, action) => {\r\n  return updateObject(state, {\r\n    error: null,\r\n    loading: true,\r\n  });\r\n};\r\n\r\nconst cartSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    shoppingCart: action.data,\r\n    error: null,\r\n    loading: false,\r\n  });\r\n};\r\n\r\nconst cartFail = (state, action) => {\r\n  return updateObject(state, {\r\n    error: action.error,\r\n    loading: false,\r\n  });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case CART_START:\r\n      return cartStart(state, action);\r\n    case CART_SUCCESS:\r\n      return cartSuccess(state, action);\r\n    case CART_FAIL:\r\n      return cartFail(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import {\r\n  ADDRESS_START,\r\n  ADDRESS_SUCCESS,\r\n  ADDRESS_FAIL,\r\n} from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../utility\";\r\n\r\nconst initialState = {\r\n  addressList: [],\r\n  error: null,\r\n  loading: false,\r\n};\r\n\r\nconst addressStart = (state, action) => {\r\n  return updateObject(state, {\r\n    error: null,\r\n    loading: true,\r\n  });\r\n};\r\n\r\nconst addressSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    addressList: action.data,\r\n    error: null,\r\n    loading: false,\r\n  });\r\n};\r\n\r\nconst addressFail = (state, action) => {\r\n  return updateObject(state, {\r\n    error: action.error,\r\n    loading: false,\r\n  });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADDRESS_START:\r\n      return addressStart(state, action);\r\n    case ADDRESS_SUCCESS:\r\n      return addressSuccess(state, action);\r\n    case ADDRESS_FAIL:\r\n      return addressFail(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport { createStore, compose, applyMiddleware, combineReducers } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\n\nimport authReducer from \"./store/reducers/auth\";\nimport cartReducer from \"./store/reducers/cart\";\nimport addressReducer from \"./store/reducers/address\";\n\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  cart: cartReducer,\n  address: addressReducer,\n});\n\nconst store = createStore(rootReducer, composeEnhances(applyMiddleware(thunk)));\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}