{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Alexander\\\\Desktop\\\\important\\\\ecommercedr\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Alexander\\\\Desktop\\\\important\\\\ecommercedr\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Alexander\\\\Desktop\\\\important\\\\ecommercedr\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Alexander\\\\Desktop\\\\important\\\\ecommercedr\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Alexander\\\\Desktop\\\\important\\\\ecommercedr\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{Button,Form,Grid,Header,Message,Segment}from\"semantic-ui-react\";import{connect}from\"react-redux\";import{NavLink,Redirect}from\"react-router-dom\";import{authLogin}from\"../store/actions/auth\";import{fetchCart as _fetchCart}from\"../store/actions/Cart\";var LoginForm=/*#__PURE__*/function(_React$Component){_inherits(LoginForm,_React$Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",password:\"\"};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){// e.preventDefault();\nvar _this$state=_this.state,username=_this$state.username,password=_this$state.password;_this.props.login(username,password);_this.setState({username:\"\",password:\"\"});};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){var _this$props=this.props,error=_this$props.error,loading=_this$props.loading,token=_this$props.token;var _this$state2=this.state,username=_this$state2.username,password=_this$state2.password;if(token){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}return/*#__PURE__*/React.createElement(Grid,{textAlign:\"center\",style:{height:\"100vh\"},verticalAlign:\"middle\"},/*#__PURE__*/React.createElement(Grid.Column,{style:{maxWidth:450}},/*#__PURE__*/React.createElement(Header,{as:\"h2\",color:\"teal\",textAlign:\"center\"},\"Log-in to your account\"),error&&/*#__PURE__*/React.createElement(\"p\",null,this.props.error.message),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Form,{size:\"large\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Segment,{stacked:true},/*#__PURE__*/React.createElement(Form.Input,{onChange:this.handleChange,value:username,name:\"username\",fluid:true,icon:\"user\",iconPosition:\"left\",placeholder:\"Username\"}),/*#__PURE__*/React.createElement(Form.Input,{onChange:this.handleChange,fluid:true,value:password,name:\"password\",icon:\"lock\",iconPosition:\"left\",placeholder:\"Password\",type:\"password\"}),/*#__PURE__*/React.createElement(Button,{color:\"teal\",fluid:true,size:\"large\",loading:loading,disabled:loading},\"Login\"))),/*#__PURE__*/React.createElement(Message,null,\"New to us? \",/*#__PURE__*/React.createElement(NavLink,{to:\"/signup\"},\"Sign Up\")))));}}]);return LoginForm;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{loading:state.auth.loading,error:state.auth.error,token:state.auth.token};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(username,password){return dispatch(authLogin(username,password));},fetchCart:function fetchCart(){return dispatch(_fetchCart());}};};export default connect(mapStateToProps,mapDispatchToProps)(LoginForm);","map":{"version":3,"sources":["C:/Users/Alexander/Desktop/important/ecommercedr/frontend/src/containers/Login.js"],"names":["React","Button","Form","Grid","Header","Message","Segment","connect","NavLink","Redirect","authLogin","fetchCart","LoginForm","state","username","password","handleChange","e","setState","target","name","value","handleSubmit","props","login","error","loading","token","height","maxWidth","message","Component","mapStateToProps","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n} from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport { authLogin } from \"../store/actions/auth\";\nimport { fetchCart } from \"../store/actions/Cart\";\n\nclass LoginForm extends React.Component {\n  state = {\n    username: \"\",\n    password: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    // e.preventDefault();\n    const { username, password } = this.state;\n    this.props.login(username, password);\n    this.setState({ username: \"\", password: \"\" });\n  };\n\n  render() {\n    const { error, loading, token } = this.props;\n    const { username, password } = this.state;\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <Grid\n        textAlign=\"center\"\n        style={{ height: \"100vh\" }}\n        verticalAlign=\"middle\"\n      >\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n            Log-in to your account\n          </Header>\n          {error && <p>{this.props.error.message}</p>}\n\n          <React.Fragment>\n            <Form size=\"large\" onSubmit={this.handleSubmit}>\n              <Segment stacked>\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={username}\n                  name=\"username\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Username\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password}\n                  name=\"password\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                />\n\n                <Button\n                  color=\"teal\"\n                  fluid\n                  size=\"large\"\n                  loading={loading}\n                  disabled={loading}\n                >\n                  Login\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              New to us? <NavLink to=\"/signup\">Sign Up</NavLink>\n            </Message>\n          </React.Fragment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    login: (username, password) => dispatch(authLogin(username, password)),\n    fetchCart: () => dispatch(fetchCart()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\n"]},"metadata":{},"sourceType":"module"}