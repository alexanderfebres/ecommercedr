{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Alexander\\\\Desktop\\\\important\\\\ecommerceproject\\\\root\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Alexander\\\\Desktop\\\\important\\\\ecommerceproject\\\\root\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Alexander\\\\Desktop\\\\important\\\\ecommerceproject\\\\root\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Alexander\\\\Desktop\\\\important\\\\ecommerceproject\\\\root\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";import{connect}from\"react-redux\";import{Button,Container,Dimmer,Icon,Image,Item,Label,Loader,Message,Segment}from\"semantic-ui-react\";import{productListURL,addToCartURL}from\"./constants\";import{authAxios}from\"../Utils\";import{fetchCart as _fetchCart}from\"../store/actions/Cart\";var ProductList=/*#__PURE__*/function(_React$Component){_inherits(ProductList,_React$Component);var _super=_createSuper(ProductList);function ProductList(){var _this;_classCallCheck(this,ProductList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:false,error:null,data:[]};_this.handleAddToCart=function(slug){_this.setState({loading:true});authAxios.post(addToCartURL,{slug:slug}).then(function(res){_this.props.fetchCart();_this.setState({loading:false});}).catch(function(err){_this.setState({error:err,loading:false});});};return _this;}_createClass(ProductList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({loading:true});axios.get(productListURL).then(function(res){_this2.setState({data:res.data,loading:false});}).catch(function(err){_this2.setState({error:err,loading:false});});}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,data=_this$state.data,error=_this$state.error,loading=_this$state.loading;return/*#__PURE__*/React.createElement(Container,null,error&&/*#__PURE__*/React.createElement(Message,{error:true,header:\"There was some errors with your submission\",content:JSON.stringify(error)}),loading&&/*#__PURE__*/React.createElement(Segment,null,/*#__PURE__*/React.createElement(Dimmer,{active:true,inverted:true},/*#__PURE__*/React.createElement(Loader,{inverted:true},\"Loading\")),/*#__PURE__*/React.createElement(Image,{src:\"/images/wireframe/short-paragraph.png\"})),/*#__PURE__*/React.createElement(Item.Group,{divided:true},data.map(function(item){return/*#__PURE__*/React.createElement(Item,{key:item.id},/*#__PURE__*/React.createElement(Item.Image,{src:item.image}),/*#__PURE__*/React.createElement(Item.Content,null,/*#__PURE__*/React.createElement(Item.Header,{as:\"a\",onClick:function onClick(){return _this3.props.history.push(\"/products/\".concat(item.id));}},item.title),/*#__PURE__*/React.createElement(Item.Meta,null,/*#__PURE__*/React.createElement(\"span\",{className:\"cinema\"},item.category,\" \")),/*#__PURE__*/React.createElement(Item.Description,null,item.description)));})));}}]);return ProductList;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchCart:function fetchCart(){return dispatch(_fetchCart());}};};export default connect(null,mapDispatchToProps)(ProductList);","map":{"version":3,"sources":["C:/Users/Alexander/Desktop/important/ecommerceproject/root/front/src/containers/ProductList.js"],"names":["React","axios","connect","Button","Container","Dimmer","Icon","Image","Item","Label","Loader","Message","Segment","productListURL","addToCartURL","authAxios","fetchCart","ProductList","state","loading","error","data","handleAddToCart","slug","setState","post","then","res","props","catch","err","get","JSON","stringify","map","item","id","image","history","push","title","category","description","Component","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Dimmer,\r\n  Icon,\r\n  Image,\r\n  Item,\r\n  Label,\r\n  Loader,\r\n  Message,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\n\r\nimport { productListURL, addToCartURL } from \"./constants\";\r\n\r\nimport { authAxios } from \"../Utils\";\r\n\r\nimport { fetchCart } from \"../store/actions/Cart\";\r\n\r\nclass ProductList extends React.Component {\r\n  state = {\r\n    loading: false,\r\n    error: null,\r\n    data: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    axios\r\n      .get(productListURL)\r\n      .then((res) => {\r\n        this.setState({ data: res.data, loading: false });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  }\r\n\r\n  handleAddToCart = (slug) => {\r\n    this.setState({ loading: true });\r\n    authAxios\r\n      .post(addToCartURL, { slug })\r\n      .then((res) => {\r\n        this.props.fetchCart();\r\n        this.setState({ loading: false });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: err, loading: false });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { data, error, loading } = this.state;\r\n    return (\r\n      <Container>\r\n        {error && (\r\n          <Message\r\n            error\r\n            header=\"There was some errors with your submission\"\r\n            content={JSON.stringify(error)}\r\n          />\r\n        )}\r\n        {loading && (\r\n          <Segment>\r\n            <Dimmer active inverted>\r\n              <Loader inverted>Loading</Loader>\r\n            </Dimmer>\r\n            <Image src=\"/images/wireframe/short-paragraph.png\" />\r\n          </Segment>\r\n        )}\r\n        <Item.Group divided>\r\n          {data.map((item) => {\r\n            return (\r\n              <Item key={item.id}>\r\n                <Item.Image src={item.image} />\r\n                <Item.Content>\r\n                  <Item.Header\r\n                    as=\"a\"\r\n                    onClick={() =>\r\n                      this.props.history.push(`/products/${item.id}`)\r\n                    }\r\n                  >\r\n                    {item.title}\r\n                  </Item.Header>\r\n                  <Item.Meta>\r\n                    <span className=\"cinema\">{item.category} </span>\r\n                  </Item.Meta>\r\n                  <Item.Description>{item.description}</Item.Description>\r\n                </Item.Content>\r\n              </Item>\r\n            );\r\n          })}\r\n        </Item.Group>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchCart: () => dispatch(fetchCart()),\r\n  };\r\n};\r\nexport default connect(null, mapDispatchToProps)(ProductList);\r\n"]},"metadata":{},"sourceType":"module"}